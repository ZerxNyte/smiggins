{% load static %}
<!DOCTYPE html>

<html>
  <head>
    <title>{{ DISPLAY_NAME }} - {{ SITE_NAME }} v{{ VERSION }}</title>
    {% autoescape off %}
    {{ HTML_HEADERS }}
    {% endautoescape %}

    <meta name="description" content="{{ CONTENT }}

Likes: {{ LIKES }} / Quotes: {{ QUOTES }} / Comments: {{ COMMENTS }}">
    <meta name="author" content="{{ DISPLAY_NAME }} on {{ SITE_NAME }}">

    <meta property="og:type" content="website">
    <meta property="og:title" content="{{ DISPLAY_NAME }} on {{ SITE_NAME }}">
    <meta property="og:description" content="{{ CONTENT }}

Likes: {{ LIKES }} / Quotes: {{ QUOTES }} / Comments: {{ COMMENTS }}">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ DISPLAY_NAME }} on {{ SITE_NAME }}">
    <meta name="twitter:description" content="{{ CONTENT }}

Likes: {{ LIKES }} / Quotes: {{ QUOTES }} / Comments: {{ COMMENTS }}">

    <link rel="stylesheet" href="{% static '/css/home.css' %}">
    <link rel="stylesheet" href="{% static '/css/user.css' %}">
    <style>
      #top .main-content {
        -webkit-line-clamp: unset;
      }
    </style>
  </head>

  <body data-theme="{{ THEME }}">
    <div id="top" data-post-id="{{ POST_ID }}"></div>
    <textarea id="post-text" style="height: 3em;" maxlength="{{ MAX_POST_LENGTH }}" placeholder="Enter your reply here..."></textarea><br id="hide-me">
    <button id="post">Post</button><br>
    <button onclick="refresh()">Refresh</button><br><br>
    <div id="error"></div>
    <div id="posts"></div>
    <div id="more-container"><button id="more" onclick="refresh(true)" hidden>Load more...</button></div>

    <script>
      const post_id = {{ POST_ID }};
      const comment = {{ COMMENT }};
      const logged_in = {{ LOGGED_IN }};
      let share = window.location.href;
      let home = true;

      {% autoescape off %}
      const post = {{ POST_JSON }};
      {% endautoescape %}

      dom("top").innerHTML = getPostHTML(
        post.content,          // content
        post.post_id,          // postID
        post.creator.username, // username
        post.creator.display_name, // displayName
        post.creator.pronouns, // userPronouns
        post.timestamp,        // timestamp
        post.comments,         // commentCount
        post.likes,            // likeCount
        post.quotes,           // quoteCount
        post.quote,            // quote
        post.liked,            // isLiked
        post.creator.private,  // isPrivate
        {{ COMMENT }},           // isComment
        true,                  // includeUserLink
        false,                 // includePostLink
        post.owner,            // isOwner
        post.creator.badges,   // badgeData
        false,                 // fakeMentions
        true                   // pageFocus
      );
    </script>

    {% autoescape off %}
    {{ HTML_FOOTERS }}
    {% endautoescape %}
    <script src="{% static '/js/post.js' %}"></script>
    <script src="{% static '/js/timeline.js' %}"></script>
  </body>
</html>
